<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lehrpfade - Botanischer Garten Würzburg</title>
  <link rel="stylesheet" href="../style.css">
  <link id="favicon" rel="icon" type="image/png">
  <script src="../loadProject.js" defer></script>
</head>

<body>
  <!-- NAVIGATION -->
  <nav class="navbar">
    <div class="navbar-container container">
      <input type="checkbox" id="menu-toggle" />
      <label for="menu-toggle" class="hamburger-lines">
        <span class="line line1"></span>
        <span class="line line2"></span>
        <span class="line line3"></span>
      </label>

      <ul class="menu-items">
        <li><a href="../QRCODE.html">Startseite</a></li>
        <li>
          <a href="../Startseite.html">Karte</a>
          <ul id="karte-submenu" class="submenu"></ul>
        </li>
        <li><a href="../Kontakt.html">Kontakt</a></li>
      </ul>

      <button id="karte-button" class="bottom-button" style="display:none;" onclick="navigationsButtonClick()">
        Station abschliessen
      </button>

    </div>
    <div id="progress-container"></div>
  </nav>

  <div class="content-container">
    <div class="content-wrapper">
      <!-- -----------------------Inhalt der Station hier dazwischenschreiben----------------------------------------------- -->
      <!-- ----------------------------------------------------------------------------------------------------------------- -->
      <!-- ----------------------------------------------------------------------------------------------------------------- -->
      <!-- ----------------------------------------------------------------------------------------------------------------- -->

      HIER KOMMEN FACHBEGRIFFE REIN

      <style>
        /* Seitenabstände + Scrollplatz */
        .content-wrapper {
          padding: 10px 10px 10px;
          margin: 0 15px 80px;
        }
      </style>

      <!-- ----------------------------------------------------------------------------------------------------------------- -->
      <!-- ----------------------------------------------------------------------------------------------------------------- -->
      <!-- ----------------------------------------------------------------------------------------------------------------- -->
      <!-- -----------------------Inhalt der Station hier dazwischenschreiben----------------------------------------------- -->
    </div>
  </div>


  <script>
    // gespeicherten Fortschritt laden
    window.stationsComplete = JSON.parse(localStorage.getItem('stationsComplete')) || [];

    document.addEventListener("lehrpfadLoaded", () => {
      const btn = document.getElementById("karte-button");

      if (!btn) return;
      updateKarteButton(window.location.pathname);
    })

    function updateStationsCompleteStorage() {
      localStorage.setItem('stationsComplete', JSON.stringify(window.stationsComplete));
    }

    // Station abschliessen Funktion
    const btn = document.getElementById('karte-button');
    btn.addEventListener('click', () => {
      if (window.aktuelleStationId) {
        const stationIndex = window.aktuelleStationId - 1;
        if (!window.stationsComplete.includes(stationIndex)) {
          window.stationsComplete.push(stationIndex);
          updateStationsCompleteStorage();
        }
      }
      window.location.href = '/Startseite.html'; // Zurück zur Karte
    });

  </script>
</body>

</html>